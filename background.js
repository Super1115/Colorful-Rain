import { random } from "./random.js"

const colors=[[229,7,38],
[183,127,2],
[63,205,184],
[199,112,246],
[133,187,112],
[75,47,105],
[249,198,19],
[124,179,65],
[154,196,72],
[33,234,235],
[189,187,109],
[24,249,188],
[184,237,241],
[165,90,89],
[110,131,131],
[84,74,21],
[1,139,66],
[64,39,12],
[136,47,176],
[196,56,43],
[163,184,222],
[231,92,16],
[98,191,237],
[108,167,46],
[224,150,137],
[158,185,233],
[229,68,81],
[92,115,118],
[55,116,179],
[20,124,40],
[26,10,164],
[240,14,173],
[118,114,109],
[238,8,173],
[231,30,216],
[200,29,58],
[54,41,221],
[86,100,0],
[23,129,167],
[41,48,255],
[21,91,41],
[180,52,147],
[198,156,228],
[194,93,85],
[95,62,44],
[4,35,43],
[224,65,11],
[151,41,198],
[128,42,4],
[23,194,69],
[206,72,20],
[89,167,0],
[253,173,175],
[214,135,23],
[76,105,65],
[34,100,148],
[15,71,115],
[68,16,211],
[171,53,11],
[189,131,204],
[140,42,132],
[32,171,140],
[140,89,245],
[141,227,21],
[105,222,204],
[38,171,192],
[158,209,68],
[79,98,179],
[240,223,23],
[10,181,93],
[35,155,175],
[126,117,38],
[59,87,47],
[252,41,179],
[84,182,154],
[197,202,60],
[28,155,215],
[228,119,183],
[124,233,5],
[123,247,32],
[104,52,123],
[247,81,160],
[81,112,225],
[84,207,53],
[64,155,228],
[52,248,160],
[237,71,52],
[140,225,134],
[100,206,250],
[149,177,248],
[161,198,181],
[182,216,76],
[74,115,166],
[203,216,116],
[85,30,238],
[125,190,238],
[149,106,119],
[34,214,3],
[118,166,218],
[10,86,113],]

document.addEventListener("DOMContentLoaded", (e)=>{
    let drops = []
    function lodeBackground(selector){
        let background = document.querySelector(selector)
        let amount = Math.floor(window.innerWidth/8)
        for(let i = 0; i<amount;i++){
            let drop = document.createElement("i")
            drop.classList.add("rain-drop");
            let size = Math.random() * 10;
            let posx = Math.floor(Math.random() * window.innerWidth)
            let speed = 2+ Math.random() *5
            let delay = Math.random()* -20
            let color = random.arr(colors)
            drop.style.animationDuration = speed + "s"
            drop.style.animationDelay = delay+"s"
            drop.style.left = posx+"px";
            drop.style.width = 0.2 + size + "px"
            drop.style.setProperty("--c",`rgb(${color[0]},${color[1]},${color[2]})`)


            background.appendChild(drop)
            drops.push(drop)
        }
    }
    lodeBackground(".background")
})